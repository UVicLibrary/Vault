<div class="document">
  <div class="thumbnail">
    <%= link_to '#', data: { :'slide-to' => document_counter, toggle: "modal", target: "#slideshow-modal" } do %>
      <% if request.base_url.include?('vault') && fileset = GenericWork.find(document.id).members.detect { |m| m.mime_type.include?("pdf") } %>
        <%= image_tag "thumbnails/#{fileset.parent.collection.first.parameterize.underscore}/#{fileset.id}-thumb.jpg" %>
      <% elsif thumbnail_url(document) %>
          <%= image_tag thumbnail_url(document) %>
      <% else %>
          <%= t('.missing_image', scope: [:blacklight_gallery]) %>
      <% end %>
    <% end %>
  </div>
</div>
